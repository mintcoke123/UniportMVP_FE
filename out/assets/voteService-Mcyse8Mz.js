import{k as u,d as o,l as r}from"./index-N0Tr1OC3.js";const i=()=>"https://uniportbe-production.up.railway.app/".replace(/\/$/,"").replace(/^http/,"ws");function p(e){const s=u()?.trim();return s?`${i()}/groups/${e}/chat?token=${encodeURIComponent(s)}`:null}const n="이 그룹의 멤버가 아닙니다. 해당 채팅방에 참가한 멤버만 읽고 쓸 수 있습니다.";async function m(e){if(e==null)return[];try{const s=await o(`/api/groups/${e}/chat/messages`);return Array.isArray(s)?s:s.messages??[]}catch(s){const t=s;if(t.status===403)throw new Error(t.message||n);return[]}}async function l(e,s){try{return await r(`/api/groups/${e}/chat/messages`,{message:s})}catch(t){const a=t;return{success:!1,message:a.status===403?a.message||n:a.message??"메시지 전송에 실패했습니다."}}}async function f(e,s){try{return await r(`/api/groups/${e}/chat/messages`,{type:"trade",tradeData:s})}catch(t){const a=t;return{success:!1,message:a.status===403?a.message||n:a.message??"공유에 실패했습니다."}}}async function h(e){return e==null?[]:await o(`/api/groups/${e}/votes`)}async function y(e,s){return await r(`/api/groups/${e}/votes`,s)}async function $(e,s,t){return await r(`/api/groups/${e}/votes/${s}`,{vote:t})}export{m as a,h as b,y as c,l as d,$ as e,p as g,f as s};
//# sourceMappingURL=voteService-Mcyse8Mz.js.map
