{"version":3,"file":"page-PMSGSXX2.js","sources":["../../src/services/stockService.ts","../../src/pages/stock-detail/components/StockChart.tsx","../../src/pages/stock-detail/components/MyHolding.tsx","../../src/pages/stock-detail/page.tsx"],"sourcesContent":["/**\n * 종목 상세. GET /api/stocks/:id (인증 선택)\n * @see docs/API_SPEC.md §3-5\n */\nimport type { StockDetailResponse } from \"../types\";\nimport { apiGet } from \"./apiClient\";\n\nexport async function getStockDetail(\n  id: number\n): Promise<StockDetailResponse | null> {\n  return await apiGet<StockDetailResponse>(`/api/stocks/${id}`);\n}\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\ninterface StockChartProps {\r\n  stockName: string;\r\n  /** 백엔드 종목코드 (예: \"005930\"). TradingView에는 KRX:코드 형식으로 전달 */\r\n  stockCode?: string;\r\n}\r\n\r\ntype ChartPeriod = \"1D\" | \"1W\" | \"3M\" | \"6M\" | \"1Y\";\r\n\r\nconst StockChart = ({ stockName, stockCode = \"005930\" }: StockChartProps) => {\r\n  const tvSymbol = `KRX:${stockCode}`;\r\n  const [selectedPeriod, setSelectedPeriod] = useState<ChartPeriod>(\"1D\");\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const periods: ChartPeriod[] = [\"1D\", \"1W\", \"3M\", \"6M\", \"1Y\"];\r\n\r\n  useEffect(() => {\r\n    if (!containerRef.current) return;\r\n\r\n    const script = document.createElement(\"script\");\r\n    script.src = \"https://s3.tradingview.com/tv.js\";\r\n    script.async = true;\r\n    script.onload = () => {\r\n      if (containerRef.current && (window as any).TradingView) {\r\n        new (window as any).TradingView.widget({\r\n          autosize: true,\r\n          symbol: tvSymbol,\r\n          interval:\r\n            selectedPeriod === \"1D\"\r\n              ? \"5\"\r\n              : selectedPeriod === \"1W\"\r\n              ? \"60\"\r\n              : \"D\",\r\n          timezone: \"Asia/Seoul\",\r\n          theme: \"light\",\r\n          style: \"1\",\r\n          locale: \"kr\",\r\n          toolbar_bg: \"#f1f3f6\",\r\n          enable_publishing: false,\r\n          hide_side_toolbar: true,\r\n          allow_symbol_change: false,\r\n          container_id: \"tradingview_chart\",\r\n          hide_top_toolbar: false,\r\n          hide_legend: true,\r\n          save_image: false,\r\n          studies: [],\r\n        });\r\n      }\r\n    };\r\n    document.head.appendChild(script);\r\n\r\n    return () => {\r\n      if (document.head.contains(script)) {\r\n        document.head.removeChild(script);\r\n      }\r\n    };\r\n  }, [selectedPeriod]);\r\n\r\n  return (\r\n    <div className=\"bg-white mt-2 px-5 py-5\">\r\n      <h3 className=\"text-base font-bold mb-4\">차트</h3>\r\n\r\n      {/* Period Tabs */}\r\n      <div className=\"flex gap-2 mb-4\">\r\n        {periods.map((period) => (\r\n          <button\r\n            key={period}\r\n            onClick={() => setSelectedPeriod(period)}\r\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${\r\n              selectedPeriod === period\r\n                ? \"bg-black text-white\"\r\n                : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"\r\n            }`}\r\n          >\r\n            {period}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* TradingView Chart */}\r\n      <div\r\n        ref={containerRef}\r\n        className=\"w-full h-80 rounded-lg overflow-hidden border border-gray-200\"\r\n      >\r\n        <div id=\"tradingview_chart\" className=\"w-full h-full\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StockChart;\r\n","interface MyHoldingProps {\r\n  holding: {\r\n    quantity: number;\r\n    avgPrice: number;\r\n    totalValue: number;\r\n    totalProfit: number;\r\n    profitRate: number;\r\n  };\r\n}\r\n\r\nconst MyHolding = ({ holding }: MyHoldingProps) => {\r\n  const isProfit = holding.totalProfit >= 0;\r\n\r\n  return (\r\n    <div className=\"bg-white mt-2 px-5 py-5\">\r\n      <h3 className=\"text-base font-bold mb-4\">내 보유내역</h3>\r\n      \r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <p className=\"text-sm text-gray-500 mb-1\">보유수량</p>\r\n          <p className=\"text-base font-semibold\">{holding.quantity.toLocaleString()}주</p>\r\n        </div>\r\n        \r\n        <div>\r\n          <p className=\"text-sm text-gray-500 mb-1\">평단가</p>\r\n          <p className=\"text-base font-semibold\">{holding.avgPrice.toLocaleString()}원</p>\r\n        </div>\r\n        \r\n        <div>\r\n          <p className=\"text-sm text-gray-500 mb-1\">평가금액</p>\r\n          <p className=\"text-base font-semibold\">{holding.totalValue.toLocaleString()}원</p>\r\n        </div>\r\n        \r\n        <div>\r\n          <p className=\"text-sm text-gray-500 mb-1\">총수익</p>\r\n          <p className={`text-base font-semibold ${isProfit ? 'text-red-500' : 'text-blue-500'}`}>\r\n            {isProfit ? '+' : ''}{holding.totalProfit.toLocaleString()}원\r\n            <span className=\"ml-1 text-sm\">\r\n              ({isProfit ? '+' : ''}{holding.profitRate}%)\r\n            </span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyHolding;","import { useState, useEffect } from \"react\";\r\nimport { useNavigate, useSearchParams, useLocation } from \"react-router-dom\";\r\nimport {\r\n  getStockDetail,\r\n  sendTradeMessage,\r\n  createVote,\r\n  getMyMatchingRooms,\r\n} from \"../../services\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport Header from \"../../components/feature/Header\";\r\nimport StockChart from \"./components/StockChart\";\r\nimport MyHolding from \"./components/MyHolding\";\r\nimport type { StockDetailResponse } from \"../../types\";\r\n\r\ntype OrderType = \"buy\" | \"sell\" | null;\r\n\r\nconst investmentReasons = [\"#실적발표\", \"#저평가\", \"#장기투자\", \"#급등기대\"];\r\n\r\n/** user.teamId (예: \"team-123\") → 채팅/투표 API용 groupId 123 */\r\nfunction teamIdToGroupId(teamId: string | null | undefined): number | null {\r\n  if (!teamId || !teamId.startsWith(\"team-\")) return null;\r\n  const n = parseInt(teamId.slice(5), 10);\r\n  return Number.isNaN(n) || n < 1 ? null : n;\r\n}\r\n/** room.id (예: \"room-66\") → 채팅/투표 API용 groupId 66. teamId 없을 때 내 방 목록에서 사용 */\r\nfunction roomIdToGroupId(roomId: string | undefined): number | null {\r\n  if (!roomId || !roomId.startsWith(\"room-\")) return null;\r\n  const n = parseInt(roomId.slice(5), 10);\r\n  return Number.isNaN(n) || n < 1 ? null : n;\r\n}\r\nconst STORAGE_KEY_SELECTED_ROOM = \"uniport_selected_room_id\";\r\n\r\nconst StockDetailPage = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { user } = useAuth();\r\n  const [searchParams] = useSearchParams();\r\n  const stockId = parseInt(searchParams.get(\"id\") || \"1\");\r\n  const [stock, setStock] = useState<StockDetailResponse | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const nameFromList = (location.state as { nameFromList?: string } | null)\r\n    ?.nameFromList;\r\n  const [shareError, setShareError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getStockDetail(stockId)\r\n      .then(setStock)\r\n      .catch(() => setStock(null))\r\n      .finally(() => setLoading(false));\r\n  }, [stockId]);\r\n\r\n  /** API가 '종목_코드'만 주거나 상품유형(ETF/ELW/ETN)만 줄 때는 리스트에서 넘긴 종목명 사용 */\r\n  const expectedFallback = stock ? `종목_${stock.code}` : \"\";\r\n  const isFallbackName =\r\n    stock &&\r\n    (stock.name === expectedFallback || stock.name.startsWith(\"종목_\"));\r\n  const isGenericProductType =\r\n    stock && /^(ETF|ELW|ETN)$/i.test(String(stock?.name ?? \"\").trim());\r\n  const displayName =\r\n    stock && nameFromList && (isFallbackName || isGenericProductType)\r\n      ? nameFromList\r\n      : (stock?.name ?? \"\");\r\n\r\n  const [orderType, setOrderType] = useState<OrderType>(null);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [pricePerShare, setPricePerShare] = useState(stock?.currentPrice || 0);\r\n  const [investmentLogic, setInvestmentLogic] = useState(\"\");\r\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\r\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex flex-col\">\r\n        <Header />\r\n        <div className=\"flex-1 flex items-center justify-center\">\r\n          <div className=\"text-center\">\r\n            <p className=\"text-lg text-gray-600\">데이터를 가져오고 있습니다</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!stock) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-lg text-gray-600\">종목을 찾을 수 없습니다</p>\r\n          <button\r\n            onClick={() => navigate(-1)}\r\n            className=\"mt-4 px-6 py-2 bg-black text-white rounded-lg\"\r\n          >\r\n            돌아가기\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isPositive = stock.change >= 0;\r\n  const totalOrderAmount = quantity * pricePerShare;\r\n\r\n  /** 현재 내 그룹의 해당 주식 보유량 (매도 시 거래 수량 최대값) */\r\n  const maxQuantityByHolding = stock.myHolding?.quantity ?? 0;\r\n\r\n  const handleOpenModal = (type: OrderType) => {\r\n    setOrderType(type);\r\n    setPricePerShare(stock.currentPrice);\r\n    const maxQty = maxQuantityByHolding;\r\n    if (type === \"sell\") {\r\n      setQuantity(maxQty > 0 ? Math.min(1, maxQty) : 0);\r\n    } else {\r\n      setQuantity(maxQty > 0 ? Math.min(1, maxQty) : 1);\r\n    }\r\n    setInvestmentLogic(\"\");\r\n    setSelectedTags([]);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setOrderType(null);\r\n  };\r\n\r\n  const handleTagToggle = (tag: string) => {\r\n    setSelectedTags((prev) =>\r\n      prev.includes(tag) ? prev.filter((t) => t !== tag) : [...prev, tag],\r\n    );\r\n  };\r\n\r\n  const handleSharePlan = () => {\r\n    setShowConfirmDialog(true);\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    setShareError(null);\r\n    let groupId = teamIdToGroupId(user?.teamId ?? null);\r\n    if (groupId == null && typeof localStorage !== \"undefined\") {\r\n      const savedRoomId = localStorage.getItem(STORAGE_KEY_SELECTED_ROOM);\r\n      if (savedRoomId) groupId = roomIdToGroupId(savedRoomId);\r\n    }\r\n    if (groupId == null) {\r\n      const rooms = await getMyMatchingRooms().catch(() => []);\r\n      const room =\r\n        rooms.find((r) => r.status === \"started\") ??\r\n        rooms.find((r) => r.status === \"full\") ??\r\n        rooms[0];\r\n      groupId = room ? (roomIdToGroupId(room.id) ?? null) : null;\r\n    }\r\n\r\n    if (groupId != null) {\r\n      const action = orderType === \"buy\" ? \"매수\" : \"매도\";\r\n      const tradeData = {\r\n        action: action as \"매수\" | \"매도\",\r\n        stockName: displayName,\r\n        quantity,\r\n        pricePerShare,\r\n        totalAmount: totalOrderAmount,\r\n        reason: investmentLogic.trim() || `${displayName} ${action} 계획`,\r\n        tags: selectedTags,\r\n      };\r\n      try {\r\n        await sendTradeMessage(groupId, tradeData);\r\n        await createVote(groupId, {\r\n          type: action as \"매수\" | \"매도\",\r\n          stockName: displayName,\r\n          stockCode: stock.code,\r\n          quantity,\r\n          proposedPrice: pricePerShare,\r\n          reason: tradeData.reason,\r\n        });\r\n      } catch (e) {\r\n        setShareError(e instanceof Error ? e.message : \"공유에 실패했습니다.\");\r\n        return;\r\n      }\r\n    }\r\n\r\n    setShowConfirmDialog(false);\r\n    setOrderType(null);\r\n    setShowSuccessMessage(true);\r\n    setTimeout(() => navigate(\"/chat\"), 1000);\r\n  };\r\n\r\n  const handleCancelConfirm = () => {\r\n    setShowConfirmDialog(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 pb-24\">\r\n      <Header />\r\n      {/* 페이지 상단: 뒤로가기 */}\r\n      <div className=\"sticky top-0 z-40 bg-white border-b border-gray-200\">\r\n        <div className=\"flex items-center px-4 py-4 max-w-7xl mx-auto\">\r\n          <button\r\n            onClick={() => navigate(-1)}\r\n            className=\"flex items-center gap-2 hover:bg-gray-100 rounded-lg px-1 py-2 -ml-1 transition-colors cursor-pointer\"\r\n          >\r\n            <i className=\"ri-arrow-left-line text-xl\"></i>\r\n            <span className=\"text-lg font-semibold\">뒤로가기</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stock Info */}\r\n      <div className=\"bg-white px-5 py-6 border-b border-gray-200\">\r\n        <div className=\"flex items-center gap-3 mb-4\">\r\n          <div\r\n            className=\"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg\"\r\n            style={{ backgroundColor: stock.logoColor }}\r\n          >\r\n            {displayName.charAt(0)}\r\n          </div>\r\n          <div>\r\n            <h2 className=\"text-lg font-bold\">{displayName}</h2>\r\n            <p className=\"text-sm text-gray-500\">{stock.code}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-end gap-3\">\r\n          <p className=\"text-3xl font-bold\">\r\n            {stock.currentPrice.toLocaleString()}원\r\n          </p>\r\n          <div className=\"flex items-center gap-2 mb-1\">\r\n            <span\r\n              className={`text-lg font-semibold ${\r\n                isPositive ? \"text-red-500\" : \"text-blue-500\"\r\n              }`}\r\n            >\r\n              {isPositive ? \"+\" : \"\"}\r\n              {stock.change.toLocaleString()}원\r\n            </span>\r\n            <span\r\n              className={`text-lg font-semibold ${\r\n                isPositive ? \"text-red-500\" : \"text-blue-500\"\r\n              }`}\r\n            >\r\n              {isPositive ? \"+\" : \"\"}\r\n              {stock.changeRate}%\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chart */}\r\n      <StockChart stockName={displayName} stockCode={stock.code} />\r\n\r\n      {/* My Holding */}\r\n      {stock.myHolding && <MyHolding holding={stock.myHolding} />}\r\n\r\n      {/* Buy/Sell Buttons */}\r\n      <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-5 py-4 z-50\">\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={() => handleOpenModal(\"sell\")}\r\n            className=\"flex-1 py-3.5 bg-blue-500 text-white font-semibold rounded-xl hover:bg-blue-600 transition-colors cursor-pointer whitespace-nowrap\"\r\n          >\r\n            매도\r\n          </button>\r\n          <button\r\n            onClick={() => handleOpenModal(\"buy\")}\r\n            className=\"flex-1 py-3.5 bg-red-500 text-white font-semibold rounded-xl hover:bg-red-600 transition-colors cursor-pointer whitespace-nowrap\"\r\n          >\r\n            매수\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Order Modal */}\r\n      {orderType && (\r\n        <div className=\"fixed inset-0 z-[100] flex items-end justify-center\">\r\n          <div\r\n            className=\"absolute inset-0 bg-black/50\"\r\n            onClick={handleCloseModal}\r\n          ></div>\r\n          <div className=\"relative bg-white w-full max-w-lg rounded-t-3xl animate-slide-up\">\r\n            {/* Modal Header */}\r\n            <div className=\"flex items-center justify-between px-5 py-4 border-b border-gray-100\">\r\n              <h3 className=\"text-lg font-bold\">\r\n                {orderType === \"buy\" ? \"매수\" : \"매도\"} 계획 공유\r\n              </h3>\r\n              <button\r\n                onClick={handleCloseModal}\r\n                className=\"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full cursor-pointer\"\r\n              >\r\n                <i className=\"ri-close-line text-xl text-gray-500\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            {/* Modal Content */}\r\n            <div className=\"px-5 py-5 max-h-[70vh] overflow-y-auto\">\r\n              {/* Stock Name & Quantity */}\r\n              <div className=\"flex flex-col gap-2 mb-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-gray-600\">종목 이름</span>\r\n                  <span className=\"font-semibold\">{displayName}</span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between gap-2\">\r\n                  <span className=\"text-gray-600\">거래 수량</span>\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <input\r\n                      type=\"number\"\r\n                      min={\r\n                        orderType === \"sell\" && maxQuantityByHolding === 0\r\n                          ? 0\r\n                          : 1\r\n                      }\r\n                      max={\r\n                        orderType === \"sell\"\r\n                          ? maxQuantityByHolding\r\n                          : maxQuantityByHolding > 0\r\n                            ? maxQuantityByHolding\r\n                            : undefined\r\n                      }\r\n                      value={quantity}\r\n                      onChange={(e) => {\r\n                        const val = parseInt(e.target.value, 10);\r\n                        if (e.target.value === \"\") {\r\n                          setQuantity(\r\n                            orderType === \"sell\" && maxQuantityByHolding === 0\r\n                              ? 0\r\n                              : 1,\r\n                          );\r\n                          return;\r\n                        }\r\n                        if (Number.isNaN(val)) return;\r\n                        const minQ =\r\n                          orderType === \"sell\" && maxQuantityByHolding === 0\r\n                            ? 0\r\n                            : 1;\r\n                        const maxQ =\r\n                          orderType === \"sell\"\r\n                            ? maxQuantityByHolding\r\n                            : maxQuantityByHolding > 0\r\n                              ? maxQuantityByHolding\r\n                              : undefined;\r\n                        const clamped =\r\n                          maxQ != null\r\n                            ? Math.min(Math.max(val, minQ), maxQ)\r\n                            : Math.max(val, minQ);\r\n                        setQuantity(clamped);\r\n                      }}\r\n                      onBlur={() => {\r\n                        const minQ =\r\n                          orderType === \"sell\" && maxQuantityByHolding === 0\r\n                            ? 0\r\n                            : 1;\r\n                        const maxQ =\r\n                          orderType === \"sell\"\r\n                            ? maxQuantityByHolding\r\n                            : maxQuantityByHolding > 0\r\n                              ? maxQuantityByHolding\r\n                              : undefined;\r\n                        if (quantity < minQ) setQuantity(minQ);\r\n                        else if (maxQ != null && quantity > maxQ)\r\n                          setQuantity(maxQ);\r\n                      }}\r\n                      className=\"w-20 py-2 px-3 text-right font-semibold border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                    />\r\n                    <span className=\"text-gray-600\">주</span>\r\n                    {maxQuantityByHolding > 0 && (\r\n                      <span className=\"text-xs text-gray-400\">\r\n                        (최대 {maxQuantityByHolding.toLocaleString()}주)\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <p className=\"text-center text-sm text-gray-500 mb-6\">\r\n                {orderType === \"buy\" ? \"매수\" : \"매도\"} 계획을 공유합니다\r\n              </p>\r\n\r\n              {/* Price & Total */}\r\n              <div className=\"space-y-4 mb-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-gray-600\">\r\n                    1주 {orderType === \"buy\" ? \"매수\" : \"매도\"} 희망 가격\r\n                  </span>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={pricePerShare.toLocaleString()}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value.replace(/,/g, \"\");\r\n                        if (!isNaN(Number(value))) {\r\n                          setPricePerShare(Number(value));\r\n                        }\r\n                      }}\r\n                      className=\"w-32 text-right font-semibold bg-transparent outline-none\"\r\n                    />\r\n                    <span className=\"text-gray-600\">원</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-gray-600\">전체 주문 금액</span>\r\n                  <span className=\"font-semibold\">\r\n                    {totalOrderAmount.toLocaleString()}원\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Investment Logic */}\r\n              <div className=\"mb-4\">\r\n                <label className=\"block text-gray-600 mb-2\">투자 논리</label>\r\n                <textarea\r\n                  value={investmentLogic}\r\n                  onChange={(e) =>\r\n                    setInvestmentLogic(e.target.value.slice(0, 500))\r\n                  }\r\n                  placeholder=\"투자를 계획하시는 이유를 작성해주세요\"\r\n                  className=\"w-full h-24 px-4 py-3 bg-gray-50 rounded-xl resize-none outline-none focus:ring-2 focus:ring-blue-500/20 text-sm\"\r\n                  maxLength={500}\r\n                />\r\n              </div>\r\n\r\n              {/* Tags */}\r\n              <div className=\"flex flex-wrap gap-2 mb-6\">\r\n                {investmentReasons.map((tag) => (\r\n                  <button\r\n                    key={tag}\r\n                    onClick={() => handleTagToggle(tag)}\r\n                    className={`px-3 py-1.5 rounded-full text-sm cursor-pointer transition-colors whitespace-nowrap ${\r\n                      selectedTags.includes(tag)\r\n                        ? \"bg-blue-500 text-white\"\r\n                        : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"\r\n                    }`}\r\n                  >\r\n                    {tag}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n\r\n              {/* Share Button */}\r\n              <button\r\n                onClick={handleSharePlan}\r\n                className={`w-full py-4 rounded-xl font-semibold text-white transition-colors cursor-pointer whitespace-nowrap ${\r\n                  orderType === \"buy\"\r\n                    ? \"bg-red-500 hover:bg-red-600\"\r\n                    : \"bg-blue-500 hover:bg-blue-600\"\r\n                }`}\r\n              >\r\n                {orderType === \"buy\" ? \"매수\" : \"매도\"} 계획 공유하기\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Confirm Dialog */}\r\n      {showConfirmDialog && (\r\n        <div className=\"fixed inset-0 z-[200] flex items-center justify-center px-5\">\r\n          <div\r\n            className=\"absolute inset-0 bg-black/50\"\r\n            onClick={handleCancelConfirm}\r\n          ></div>\r\n          <div className=\"relative bg-white w-full max-w-sm rounded-2xl overflow-hidden animate-scale-up\">\r\n            {/* Dialog Header */}\r\n            <div className=\"px-5 pt-6 pb-4 text-center\">\r\n              <h4 className=\"text-lg font-bold mb-1\">\r\n                {orderType === \"buy\" ? \"매수\" : \"매도\"} 확인\r\n              </h4>\r\n              <p className=\"text-sm text-gray-500\">\r\n                아래 내용으로 {orderType === \"buy\" ? \"매수\" : \"매도\"} 계획을\r\n                공유합니다\r\n              </p>\r\n            </div>\r\n\r\n            {/* Dialog Content */}\r\n            <div className=\"px-5 pb-5\">\r\n              {shareError && (\r\n                <p className=\"text-sm text-red-600 mb-3\">{shareError}</p>\r\n              )}\r\n              <div className=\"bg-gray-50 rounded-xl p-4 space-y-3\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-500\">종목명</span>\r\n                  <span className=\"font-semibold\">{displayName}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-500\">수량</span>\r\n                  <span className=\"font-semibold\">{quantity}주</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-500\">1주 희망 가격</span>\r\n                  <span className=\"font-semibold\">\r\n                    {pricePerShare.toLocaleString()}원\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-500\">주문 금액</span>\r\n                  <span className=\"font-semibold\">\r\n                    {totalOrderAmount.toLocaleString()}원\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Dialog Buttons */}\r\n            <div className=\"flex border-t border-gray-100\">\r\n              <button\r\n                onClick={handleCancelConfirm}\r\n                className=\"flex-1 py-4 text-gray-600 font-semibold hover:bg-gray-50 transition-colors cursor-pointer whitespace-nowrap\"\r\n              >\r\n                취소\r\n              </button>\r\n              <div className=\"w-px bg-gray-100\"></div>\r\n              <button\r\n                onClick={handleConfirm}\r\n                className={`flex-1 py-4 font-semibold transition-colors cursor-pointer whitespace-nowrap ${\r\n                  orderType === \"buy\"\r\n                    ? \"text-red-500 hover:bg-red-50\"\r\n                    : \"text-blue-500 hover:bg-blue-50\"\r\n                }`}\r\n              >\r\n                확인\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Success Message */}\r\n      {showSuccessMessage && (\r\n        <div className=\"fixed inset-0 z-[300] flex items-center justify-center px-5\">\r\n          <div className=\"absolute inset-0 bg-black/50\"></div>\r\n          <div className=\"relative bg-white rounded-2xl px-8 py-6 shadow-xl animate-scale-up\">\r\n            <div className=\"flex flex-col items-center gap-3\">\r\n              <div className=\"w-16 h-16 bg-teal-500 rounded-full flex items-center justify-center\">\r\n                <i className=\"ri-check-line text-white text-3xl\"></i>\r\n              </div>\r\n              <p className=\"text-lg font-bold text-gray-900\">공유 완료!</p>\r\n              <p className=\"text-sm text-gray-500\">채팅방으로 이동합니다</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <style>{`\r\n        @keyframes slide-up {\r\n          from {\r\n            transform: translateY(100%);\r\n          }\r\n          to {\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        .animate-slide-up {\r\n          animation: slide-up 0.3s ease-out;\r\n        }\r\n        @keyframes scale-up {\r\n          from {\r\n            transform: scale(0.9);\r\n            opacity: 0;\r\n          }\r\n          to {\r\n            transform: scale(1);\r\n            opacity: 1;\r\n          }\r\n        }\r\n        .animate-scale-up {\r\n          animation: scale-up 0.2s ease-out;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StockDetailPage;\r\n"],"names":["getStockDetail","id","apiGet","StockChart","stockName","stockCode","tvSymbol","selectedPeriod","setSelectedPeriod","useState","containerRef","useRef","periods","useEffect","script","jsxs","jsx","period","MyHolding","holding","isProfit","investmentReasons","teamIdToGroupId","teamId","n","roomIdToGroupId","roomId","STORAGE_KEY_SELECTED_ROOM","StockDetailPage","navigate","useNavigate","location","useLocation","user","useAuth","searchParams","useSearchParams","stockId","stock","setStock","loading","setLoading","nameFromList","shareError","setShareError","expectedFallback","isFallbackName","isGenericProductType","displayName","orderType","setOrderType","quantity","setQuantity","pricePerShare","setPricePerShare","investmentLogic","setInvestmentLogic","selectedTags","setSelectedTags","showConfirmDialog","setShowConfirmDialog","showSuccessMessage","setShowSuccessMessage","Header","isPositive","totalOrderAmount","maxQuantityByHolding","handleOpenModal","type","maxQty","handleCloseModal","handleTagToggle","tag","prev","t","handleSharePlan","handleConfirm","groupId","savedRoomId","rooms","getMyMatchingRooms","room","r","action","tradeData","sendTradeMessage","createVote","e","handleCancelConfirm","val","minQ","maxQ","clamped","value"],"mappings":"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"}