{"version":3,"file":"page-C7JNKN7L.js","sources":["../../src/pages/group-portfolio/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getGroupPortfolio, getGroupStockHoldings, getGroupMembers, getCompetingTeams } from '../../services';\r\nimport type { GroupPortfolioResponse, GroupStockHoldingsSummaryItem, GroupMemberItem, CompetingTeamItem } from '../../types';\r\n\r\nexport default function GroupPortfolioPage() {\r\n  const navigate = useNavigate();\r\n  const [groupPortfolioData, setGroupPortfolioData] = useState<GroupPortfolioResponse | null>(null);\r\n  const [groupStockHoldings, setGroupStockHoldings] = useState<GroupStockHoldingsSummaryItem[]>([]);\r\n  const [groupMembers, setGroupMembers] = useState<GroupMemberItem[]>([]);\r\n  const [competingTeams, setCompetingTeams] = useState<CompetingTeamItem[]>([]);\r\n\r\n  useEffect(() => {\r\n    getGroupPortfolio().then(setGroupPortfolioData);\r\n    getGroupStockHoldings().then(setGroupStockHoldings);\r\n    getGroupMembers().then(setGroupMembers);\r\n    getCompetingTeams().then(setCompetingTeams);\r\n  }, []);\r\n\r\n  const { groupName, totalValue, investmentAmount, profitLoss, profitLossPercentage } = groupPortfolioData ?? {} as GroupPortfolioResponse;\r\n  const isProfit = (profitLoss ?? 0) >= 0;\r\n\r\n  const handleStockClick = (stockId: number) => {\r\n    navigate(`/stock-detail?id=${stockId}`);\r\n  };\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return `${value.toLocaleString('ko-KR')}원`;\r\n  };\r\n\r\n  const formatPercentage = (value: number) => {\r\n    const sign = value >= 0 ? '+' : '';\r\n    return `${sign}${value.toFixed(2)}%`;\r\n  };\r\n\r\n  if (!groupPortfolioData) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <p className=\"text-gray-500\">로딩 중...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 pb-24\">\r\n      {/* 그룹 정보 섹션 */}\r\n      <div className=\"bg-gradient-to-br from-teal-400 to-teal-500 px-5 pt-8 pb-8\">\r\n        <div className=\"flex flex-col items-center\">\r\n          <span className=\"w-20 h-20 rounded-full bg-white text-teal-600 flex items-center justify-center text-2xl font-bold mb-3 shrink-0\" aria-hidden>\r\n            {groupName.charAt(0)}\r\n          </span>\r\n          <h1 className=\"text-white text-xl font-bold mb-6\">{groupName}</h1>\r\n\r\n          {/* 그룹 포트폴리오 가치 */}\r\n          <div className=\"bg-white/95 rounded-2xl p-5 w-full shadow-lg\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <i className=\"ri-wallet-3-line text-teal-500 text-lg\"></i>\r\n              <span className=\"text-gray-600 text-sm font-medium\">실시간 투자금</span>\r\n            </div>\r\n            <div className=\"flex items-end justify-between\">\r\n              <span className=\"text-3xl font-bold text-gray-900\">{formatCurrency(investmentAmount)}</span>\r\n              <span className={`text-sm font-semibold ${isProfit ? 'text-green-500' : 'text-red-500'}`}>\r\n                {formatPercentage(profitLossPercentage)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 수익/손실 내역 */}\r\n      <div className=\"px-5 py-4 bg-gray-50\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <span className=\"text-gray-600 text-sm\">수익/손실</span>\r\n          <div className=\"text-right\">\r\n            <span className={`text-lg font-bold ${isProfit ? 'text-green-500' : 'text-red-500'}`}>\r\n              {isProfit ? '+' : ''}{formatCurrency(profitLoss)}\r\n            </span>\r\n            <span className={`text-xs ml-2 ${isProfit ? 'text-green-500' : 'text-red-500'}`}>\r\n              {formatPercentage(profitLossPercentage)}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 대회 경쟁 팀 실시간 투자금 */}\r\n      {competingTeams.length > 0 && (\r\n        <div className=\"px-5 py-5 bg-white border-t border-gray-100\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <i className=\"ri-trophy-line text-amber-500 text-lg\"></i>\r\n            <h2 className=\"text-base font-bold text-gray-900\">대회 경쟁 팀 실시간 투자금</h2>\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            {competingTeams.map((team) => {\r\n              const teamProfit = team.profitLoss >= 0;\r\n              return (\r\n                <div\r\n                  key={team.teamId}\r\n                  className={`rounded-xl p-4 border transition-colors ${\r\n                    team.isMyTeam\r\n                      ? 'bg-teal-50 border-teal-200 shadow-sm'\r\n                      : 'bg-gray-50 border-gray-100'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center justify-between gap-3\">\r\n                    <div className=\"flex items-center gap-3 min-w-0\">\r\n                      <span className=\"flex-shrink-0 w-7 h-7 rounded-full bg-gray-200 flex items-center justify-center text-sm font-bold text-gray-700\">\r\n                        {team.rank}\r\n                      </span>\r\n                      <span className=\"w-10 h-10 rounded-full bg-teal-500 text-white flex items-center justify-center text-sm font-semibold shrink-0\" aria-hidden>\r\n                        {team.groupName.charAt(0)}\r\n                      </span>\r\n                      <div className=\"min-w-0\">\r\n                        <div className=\"font-semibold text-gray-900 text-sm truncate flex items-center gap-1.5\">\r\n                          {team.groupName}\r\n                          {team.isMyTeam && (\r\n                            <span className=\"text-xs font-medium text-teal-600 bg-teal-100 px-1.5 py-0.5 rounded\">\r\n                              우리 팀\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"text-gray-900 font-medium text-sm\">{formatCurrency(team.totalValue)}</div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-right flex-shrink-0\">\r\n                      <div className={`font-semibold text-sm ${teamProfit ? 'text-green-500' : 'text-red-500'}`}>\r\n                        {teamProfit ? '+' : ''}{formatCurrency(team.profitLoss)}\r\n                      </div>\r\n                      <div className={`text-xs ${teamProfit ? 'text-green-500' : 'text-red-500'}`}>\r\n                        {formatPercentage(team.profitLossPercentage)}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* 모의투자 이동 버튼 */}\r\n      <div className=\"px-5 py-4\">\r\n        <button\r\n          onClick={() => navigate('/mock-investment')}\r\n          className=\"w-full py-4 bg-gradient-to-r from-teal-500 to-teal-600 text-white text-base font-bold rounded-xl hover:from-teal-600 hover:to-teal-700 transition-all cursor-pointer whitespace-nowrap flex items-center justify-center gap-2\"\r\n        >\r\n          <i className=\"ri-stock-line text-xl\"></i>\r\n          <span>모의투자 시작하기</span>\r\n        </button>\r\n      </div>\r\n\r\n      <main className=\"max-w-md mx-auto\">\r\n        {/* 그룹 포트폴리오 주식 내역 */}\r\n        <div className=\"px-5 py-5\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <i className=\"ri-stock-line text-gray-700 text-lg\"></i>\r\n            <h2 className=\"text-base font-bold text-gray-900\">보유 주식</h2>\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            {groupStockHoldings.map((stock) => (\r\n              <div\r\n                key={stock.id}\r\n                onClick={() => handleStockClick(stock.id)}\r\n                className=\"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors\"\r\n              >\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div \r\n                      className=\"w-11 h-11 rounded-full flex items-center justify-center text-white font-bold text-sm\"\r\n                      style={{ backgroundColor: stock.logoColor }}\r\n                    >\r\n                      {stock.name.charAt(0)}\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"font-semibold text-gray-900 text-sm mb-1\">{stock.name}</div>\r\n                      <div className=\"text-gray-900 font-medium text-sm\">{formatCurrency(stock.currentValue)}</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <div className={`font-semibold text-sm ${stock.profitLoss >= 0 ? 'text-green-500' : 'text-red-500'}`}>\r\n                      {stock.profitLoss >= 0 ? '+' : ''}{formatCurrency(stock.profitLoss)}\r\n                    </div>\r\n                    <div className={`text-xs ${stock.profitLoss >= 0 ? 'text-green-500' : 'text-red-500'}`}>\r\n                      {formatPercentage(stock.profitLossPercentage)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 그룹 멤버 내역 */}\r\n        <div className=\"px-5 py-5\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <i className=\"ri-team-line text-gray-700 text-lg\"></i>\r\n            <h2 className=\"text-base font-bold text-gray-900\">그룹 멤버</h2>\r\n            <span className=\"text-sm text-gray-500\">({groupMembers.length}명)</span>\r\n          </div>\r\n          <div className=\"grid grid-cols-5 gap-4\">\r\n            {groupMembers.map((member) => (\r\n              <div key={member.id} className=\"flex flex-col items-center\">\r\n                <span className=\"w-14 h-14 rounded-full bg-teal-500 text-white flex items-center justify-center text-lg font-semibold mb-2 shrink-0\" aria-hidden>\r\n                  {member.nickname.charAt(0)}\r\n                </span>\r\n                <span className=\"text-xs text-gray-700 text-center truncate w-full\">{member.nickname}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["GroupPortfolioPage","navigate","useNavigate","groupPortfolioData","setGroupPortfolioData","useState","groupStockHoldings","setGroupStockHoldings","groupMembers","setGroupMembers","competingTeams","setCompetingTeams","useEffect","getGroupPortfolio","getGroupStockHoldings","getGroupMembers","getCompetingTeams","groupName","totalValue","investmentAmount","profitLoss","profitLossPercentage","isProfit","handleStockClick","stockId","formatCurrency","value","formatPercentage","jsxs","jsx","team","teamProfit","stock","member"],"mappings":"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"}