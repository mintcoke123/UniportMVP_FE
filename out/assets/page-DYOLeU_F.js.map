{"version":3,"file":"page-DYOLeU_F.js","sources":["../../src/mocks/chatData.ts","../../src/services/chatService.ts","../../src/mocks/voteData.ts","../../src/services/voteService.ts","../../src/pages/chat/page.tsx"],"sourcesContent":["export const chatMessages = [\r\n  {\r\n    id: 2,\r\n    type: 'user' as const,\r\n    userId: 2,\r\n    userNickname: 'ê¹€íˆ¬ì',\r\n    message: 'ì‚¼ì„±ì „ì AI ë°˜ë„ì²´ ë‰´ìŠ¤ ë³´ì…¨ë‚˜ìš”? ì´ë²ˆ ê¸°íšŒì— ë§¤ìˆ˜ íƒ€ì´ë°ì¸ ê²ƒ ê°™ì•„ìš”!',\r\n    timestamp: '09:18'\r\n  },\r\n  {\r\n    id: 3,\r\n    type: 'trade' as const,\r\n    userId: 2,\r\n    userNickname: 'ê¹€íˆ¬ì',\r\n    timestamp: '09:20',\r\n    tradeData: {\r\n      action: 'ë§¤ìˆ˜' as const,\r\n      stockName: 'ì‚¼ì„±ì „ì',\r\n      quantity: 10,\r\n      pricePerShare: 71500,\r\n      totalAmount: 715000,\r\n      reason: 'AI ë°˜ë„ì²´ ì‹œì¥ ì§„ì¶œë¡œ ì¥ê¸°ì  ì„±ì¥ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤ê³  íŒë‹¨ë©ë‹ˆë‹¤.',\r\n      tags: ['#ì‹¤ì ë°œí‘œ', '#ì¥ê¸°íˆ¬ì']\r\n    }\r\n  },\r\n  {\r\n    id: 4,\r\n    type: 'user' as const,\r\n    userId: 3,\r\n    userNickname: 'ë°•ì£¼ì‹',\r\n    message: 'ì¢‹ì€ ë¶„ì„ì´ë„¤ìš”! ì €ë„ ë™ì°¸í•˜ê² ìŠµë‹ˆë‹¤ ğŸ‘',\r\n    timestamp: '09:22'\r\n  },\r\n  {\r\n    id: 6,\r\n    type: 'user' as const,\r\n    userId: 4,\r\n    userNickname: 'ì´ì¬í…Œí¬',\r\n    message: 'SKí•˜ì´ë‹‰ìŠ¤ HBM ê´€ë ¨ ë‰´ìŠ¤ ë‚˜ì™”ë„¤ìš”. ì´ë¯¸ ë§ì´ ì˜¬ë¼ì„œ ê³ ë¯¼ë˜ë„¤ìš”...',\r\n    timestamp: '10:35'\r\n  },\r\n  {\r\n    id: 7,\r\n    type: 'trade' as const,\r\n    userId: 5,\r\n    userNickname: 'ìµœìˆ˜ìµ',\r\n    timestamp: '10:40',\r\n    tradeData: {\r\n      action: 'ë§¤ë„' as const,\r\n      stockName: 'SKí•˜ì´ë‹‰ìŠ¤',\r\n      quantity: 5,\r\n      pricePerShare: 185000,\r\n      totalAmount: 925000,\r\n      reason: 'ëª©í‘œê°€ ë„ë‹¬í–ˆê³ , ë‹¨ê¸° ê³¼ì—´ ìš°ë ¤ê°€ ìˆì–´ ì¼ë¶€ ì°¨ìµ ì‹¤í˜„í•©ë‹ˆë‹¤.',\r\n      tags: ['#ê¸‰ë“±ê¸°ëŒ€', '#ì €í‰ê°€']\r\n    }\r\n  },\r\n  {\r\n    id: 8,\r\n    type: 'user' as const,\r\n    userId: 3,\r\n    userNickname: 'ë°•ì£¼ì‹',\r\n    message: 'í˜„ëª…í•œ íŒë‹¨ì´ì‹  ê²ƒ ê°™ì•„ìš”. ì €ë„ ì¼ë¶€ ë§¤ë„ ê³ ë ¤ ì¤‘ì…ë‹ˆë‹¤.',\r\n    timestamp: '10:42'\r\n  },\r\n  {\r\n    id: 10,\r\n    type: 'user' as const,\r\n    userId: 4,\r\n    userNickname: 'ì´ì¬í…Œí¬',\r\n    message: 'LGì—ë„ˆì§€ì†”ë£¨ì…˜ ë¶ë¯¸ ê³µì¥ ì¦ì„¤ ì†Œì‹ ì¢‹ë„¤ìš”! ì „ê¸°ì°¨ ì‹œì¥ ì„±ì¥ì„¸ë¥¼ ê³ ë ¤í•˜ë©´ ê¸ì •ì ì…ë‹ˆë‹¤.',\r\n    timestamp: '14:25'\r\n  }\r\n];","/**\n * ê·¸ë£¹ ì±„íŒ… ë©”ì‹œì§€. GET /api/groups/:groupId/chat/messages\n * @see docs/API_SPEC.md Â§7\n */\nimport type { ChatMessageItem } from \"../types\";\nimport { apiGet } from \"./apiClient\";\nimport { chatMessages } from \"../mocks/chatData\";\n\nexport async function getChatMessages(\n  groupId?: number\n): Promise<ChatMessageItem[]> {\n  if (groupId != null) {\n    try {\n      return await apiGet<ChatMessageItem[]>(\n        `/api/groups/${groupId}/chat/messages`\n      );\n    } catch {\n      // fall through\n    }\n  }\n  return chatMessages as ChatMessageItem[];\n}\n","export interface VoteItem {\r\n  id: number;\r\n  type: 'ë§¤ìˆ˜' | 'ë§¤ë„';\r\n  stockName: string;\r\n  proposerId: number;\r\n  proposerName: string;\r\n  quantity: number;\r\n  proposedPrice: number;\r\n  reason: string;\r\n  createdAt: string;\r\n  expiresAt: string;\r\n  votes: {\r\n    orderId: number;\r\n    userId: number;\r\n    userName: string;\r\n    vote: 'ì°¬ì„±' | 'ë°˜ëŒ€' | 'ë³´ë¥˜';\r\n  }[];\r\n  totalMembers: number;\r\n  status: 'ongoing' | 'passed' | 'rejected' | 'expired';\r\n}\r\n\r\nexport const voteData: VoteItem[] = [\r\n  {\r\n    id: 1,\r\n    type: 'ë§¤ìˆ˜',\r\n    stockName: 'ì‚¼ì„±ì „ì',\r\n    proposerId: 2,\r\n    proposerName: 'ê¹€íˆ¬ì',\r\n    quantity: 10,\r\n    proposedPrice: 71500,\r\n    reason: 'ë°˜ë„ì²´ ì—…í™© ê°œì„  ê¸°ëŒ€. ìµœê·¼ ì‹¤ì  ë°œí‘œì—ì„œ ì˜ì—…ì´ìµì´ ì „ë¶„ê¸° ëŒ€ë¹„ 15% ì¦ê°€í–ˆê³ , AI ì¹© ìˆ˜ìš” ì¦ê°€ë¡œ í–¥í›„ ì „ë§ì´ ë°ìŠµë‹ˆë‹¤.',\r\n    createdAt: '2024-01-15 09:20',\r\n    expiresAt: '23ì‹œê°„ ë‚¨ìŒ',\r\n    votes: [\r\n      { orderId: 1, userId: 3, userName: 'ë°•ì£¼ì‹', vote: 'ì°¬ì„±' },\r\n      { orderId: 2, userId: 4, userName: 'ì´ì¬í…Œí¬', vote: 'ì°¬ì„±' }\r\n    ],\r\n    totalMembers: 5,\r\n    status: 'ongoing'\r\n  },\r\n  {\r\n    id: 2,\r\n    type: 'ë§¤ë„',\r\n    stockName: 'SKí•˜ì´ë‹‰ìŠ¤',\r\n    proposerId: 5,\r\n    proposerName: 'ìµœìˆ˜ìµ',\r\n    quantity: 5,\r\n    proposedPrice: 185000,\r\n    reason: 'ëª©í‘œê°€ ë„ë‹¬. ë‹¨ê¸° ê³¼ì—´ ìš°ë ¤ê°€ ìˆì–´ ì¼ë¶€ ì°¨ìµ ì‹¤í˜„ì„ ì œì•ˆí•©ë‹ˆë‹¤. HBM ê´€ë ¨ í˜¸ì¬ëŠ” ì´ë¯¸ ì£¼ê°€ì— ë°˜ì˜ë˜ì—ˆë‹¤ê³  íŒë‹¨ë©ë‹ˆë‹¤.',\r\n    createdAt: '2024-01-15 10:40',\r\n    expiresAt: '23ì‹œê°„ ë‚¨ìŒ',\r\n    votes: [\r\n      { orderId: 1, userId: 2, userName: 'ê¹€íˆ¬ì', vote: 'ì°¬ì„±' },\r\n      { orderId: 2, userId: 3, userName: 'ë°•ì£¼ì‹', vote: 'ë°˜ëŒ€' }\r\n    ],\r\n    totalMembers: 5,\r\n    status: 'ongoing'\r\n  }\r\n];","/**\n * ê·¸ë£¹ íˆ¬í‘œ ëª©ë¡. GET /api/groups/:groupId/votes\n * @see docs/API_SPEC.md Â§8\n */\nimport type { VoteItem } from \"../types\";\nimport { apiGet } from \"./apiClient\";\nimport { voteData } from \"../mocks/voteData\";\n\nexport async function getVotes(groupId?: number): Promise<VoteItem[]> {\n  if (groupId != null) {\n    try {\n      return await apiGet<VoteItem[]>(`/api/groups/${groupId}/votes`);\n    } catch {\n      // fall through\n    }\n  }\n  return voteData;\n}\n","import { useState, useRef, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Header from \"../../components/feature/Header\";\nimport { getChatMessages, getVotes, getGroupPortfolio } from \"../../services\";\nimport type {\n  ChatMessageItem,\n  VoteItem,\n  GroupPortfolioResponse,\n} from \"../../types\";\n\nexport default function ChatPage() {\n  const navigate = useNavigate();\n  const [messages, setMessages] = useState<ChatMessageItem[]>([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [showTradeModal, setShowTradeModal] = useState(false);\n  const [showGroupInfoModal, setShowGroupInfoModal] = useState(false);\n  const [rightPanelTab, setRightPanelTab] = useState<\"chat\" | \"vote\">(\"chat\");\n  const [votes, setVotes] = useState<VoteItem[]>([]);\n  const [groupPortfolioData, setGroupPortfolioData] =\n    useState<GroupPortfolioResponse | null>(null);\n\n  useEffect(() => {\n    getChatMessages().then(setMessages);\n    getVotes().then(setVotes);\n    getGroupPortfolio().then(setGroupPortfolioData);\n  }, []);\n  const [showVoteSuccessModal, setShowVoteSuccessModal] = useState(false);\n  const [passedVote, setPassedVote] = useState<VoteItem | null>(null);\n  const [selectedStock, setSelectedStock] = useState<number | null>(null);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  // ëŒ€íšŒ ì¢…ë£Œ ì—¬ë¶€ (ì‹¤ì œë¡œëŠ” APIì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨)\n  const isTournamentEnded = false; // ëŒ€íšŒ ì§„í–‰ ì¤‘ì¼ ë•Œ ì±„íŒ… ì…ë ¥ UI í‘œì‹œ\n\n  // í˜„ì¬ ì‚¬ìš©ì ID (ë¡œê·¸ì¸ëœ ì‚¬ìš©ì)\n  const currentUserId = 1;\n  const currentUserName = \"íˆ¬ìì™•ê¹€ì² ìˆ˜\";\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = () => {\n    if (newMessage.trim() === \"\") return;\n\n    const newMsg: ChatMessageItem = {\n      id: messages.length + 1,\n      type: \"user\",\n      userId: 1,\n      userNickname: \"ë‚˜\",\n      message: newMessage,\n      timestamp: new Date().toLocaleTimeString(\"ko-KR\", {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      }),\n    };\n\n    setMessages([...messages, newMsg]);\n    setNewMessage(\"\");\n  };\n\n  const handleTradeShare = () => {\n    navigate(\"/mock-investment\");\n  };\n\n  const handleVote = (voteId: number, voteType: \"ì°¬ì„±\" | \"ë°˜ëŒ€\" | \"ë³´ë¥˜\") => {\n    setVotes((prevVotes) => {\n      return prevVotes.map((vote) => {\n        if (vote.id !== voteId) return vote;\n\n        const existingVoteIndex = vote.votes.findIndex(\n          (v) => v.userId === currentUserId\n        );\n        const newVotes = [...vote.votes];\n\n        if (existingVoteIndex >= 0) {\n          newVotes[existingVoteIndex] = {\n            orderId: existingVoteIndex + 1,\n            userId: currentUserId,\n            userName: currentUserName,\n            vote: voteType,\n          };\n        } else {\n          newVotes.push({\n            orderId: newVotes.length + 1,\n            userId: currentUserId,\n            userName: currentUserName,\n            vote: voteType,\n          });\n        }\n\n        // ì°¬ì„±/ë°˜ëŒ€ë§Œ ê³¼ë°˜ìˆ˜Â·ë™ë¥  íŒë‹¨ (ë³´ë¥˜ëŠ” ì œì™¸)\n        const agreeCount = newVotes.filter((v) => v.vote === \"ì°¬ì„±\").length;\n        const disagreeCount = newVotes.filter((v) => v.vote === \"ë°˜ëŒ€\").length;\n        const majority = Math.ceil(vote.totalMembers / 2);\n        const allVoted = newVotes.length >= vote.totalMembers;\n\n        let newStatus = vote.status;\n        if (agreeCount >= majority) {\n          newStatus = \"passed\";\n          setPassedVote({ ...vote, votes: newVotes, status: \"passed\" });\n          setShowVoteSuccessModal(true);\n        } else if (disagreeCount >= majority) {\n          newStatus = \"rejected\";\n        } else if (allVoted && agreeCount === disagreeCount) {\n          // ëª¨ë‘ íˆ¬í‘œí–ˆì„ ë•Œ ë™ë¥ ì´ë©´ ë¬´íš¨(ë°˜ëŒ€)\n          newStatus = \"rejected\";\n        }\n\n        return {\n          ...vote,\n          votes: newVotes,\n          status: newStatus,\n        };\n      });\n    });\n  };\n\n  const getVoteCount = (vote: VoteItem, type: \"ì°¬ì„±\" | \"ë°˜ëŒ€\" | \"ë³´ë¥˜\") => {\n    return vote.votes.filter((v) => v.vote === type).length;\n  };\n\n  const getUserVote = (vote: VoteItem): \"ì°¬ì„±\" | \"ë°˜ëŒ€\" | \"ë³´ë¥˜\" | null => {\n    const userVote = vote.votes.find((v) => v.userId === currentUserId);\n    return userVote?.vote ?? null;\n  };\n\n  const formatCurrency = (value: number) => {\n    return `${value.toLocaleString(\"ko-KR\")}ì›`;\n  };\n\n  const formatPercentage = (value: number) => {\n    const sign = value >= 0 ? \"+\" : \"\";\n    return `${sign}${value.toFixed(2)}%`;\n  };\n\n  const isProfit = (groupPortfolioData?.profitLoss ?? 0) >= 0;\n\n  const handleTradeCardClick = (\n    tradeData: {\n      action: \"ë§¤ìˆ˜\" | \"ë§¤ë„\";\n      stockName: string;\n      quantity: number;\n      pricePerShare: number;\n      reason: string;\n    },\n    userNickname: string\n  ) => {\n    // í•´ë‹¹ ê±°ë˜ ê³„íšì— ëŒ€í•œ íˆ¬í‘œ ìƒì„±\n    const newVote: VoteItem = {\n      id: votes.length + 1,\n      type: tradeData.action,\n      stockName: tradeData.stockName,\n      proposerId: 0,\n      proposerName: userNickname || \"ì•Œ ìˆ˜ ì—†ìŒ\",\n      quantity: tradeData.quantity,\n      proposedPrice: tradeData.pricePerShare,\n      reason: tradeData.reason,\n      createdAt: new Date().toISOString().slice(0, 16).replace(\"T\", \" \"),\n      expiresAt: \"24ì‹œê°„ í›„ ë§Œë£Œ\",\n      votes: [],\n      totalMembers: 5,\n      status: \"ongoing\",\n    };\n\n    setVotes([newVote, ...votes]);\n    setRightPanelTab(\"vote\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col\">\n      <Header />\n\n      {/* ì™¼ìª½: í¬íŠ¸í´ë¦¬ì˜¤ | ì˜¤ë¥¸ìª½: ì±„íŒ…/íˆ¬í‘œ í† ê¸€ */}\n      <main className=\"flex-1 max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-[minmax(0,0.9fr)_minmax(0,1.1fr)] gap-6 lg:h-[calc(100vh-6rem)] min-h-[24rem]\">\n          {/* ì™¼ìª½: í¬íŠ¸í´ë¦¬ì˜¤ */}\n          <div className=\"flex flex-col bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden min-h-0 order-2 lg:order-1\">\n            <div className=\"flex-shrink-0 px-4 py-3 border-b border-gray-200\">\n              <h2 className=\"text-base font-bold text-gray-900 flex items-center gap-2\">\n                <i className=\"ri-pie-chart-line text-teal-500\"></i>íŒ€ íˆ¬ì í˜„í™©\n              </h2>\n            </div>\n            <div className=\"flex-1 overflow-y-auto min-h-0 p-4 space-y-4\">\n              {/* íˆ¬ì ì›ê¸ˆ ë° ì†ìµ */}\n              <div className=\"bg-gradient-to-br from-teal-500 to-teal-600 rounded-xl p-4 text-white\">\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <i className=\"ri-wallet-3-line text-xl\"></i>\n                  <h3 className=\"text-sm font-bold\">íˆ¬ì ìš”ì•½</h3>\n                </div>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between items-center text-sm\">\n                    <span className=\"text-teal-100\">íˆ¬ì ì›ê¸ˆ</span>\n                    <span className=\"font-bold\">\n                      {formatCurrency(\n                        groupPortfolioData?.investmentAmount ?? 0\n                      )}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between items-center text-sm\">\n                    <span className=\"text-teal-100\">í˜„ì¬ í‰ê°€ì•¡</span>\n                    <span className=\"font-bold\">\n                      {formatCurrency(groupPortfolioData?.totalValue ?? 0)}\n                    </span>\n                  </div>\n                  <div className=\"border-t border-teal-400 pt-2 flex justify-between items-center text-sm\">\n                    <span className=\"text-teal-100\">ì´ ì†ìµ</span>\n                    <div className=\"text-right\">\n                      <span\n                        className={`font-bold ${\n                          isProfit ? \"text-yellow-300\" : \"text-red-200\"\n                        }`}\n                      >\n                        {isProfit ? \"+\" : \"\"}\n                        {formatCurrency(groupPortfolioData?.profitLoss ?? 0)}\n                      </span>\n                      <span\n                        className={`text-xs ml-1 ${\n                          isProfit ? \"text-yellow-300\" : \"text-red-200\"\n                        }`}\n                      >\n                        {formatPercentage(\n                          groupPortfolioData?.profitLossPercentage ?? 0\n                        )}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* íŒŒì´ ì°¨íŠ¸ */}\n              <div className=\"bg-gray-50 rounded-xl p-4 border border-gray-200\">\n                <h3 className=\"text-sm font-bold text-gray-900 mb-3\">\n                  í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„±\n                </h3>\n                <div className=\"flex items-center justify-center mb-3\">\n                  <svg viewBox=\"0 0 200 200\" className=\"w-28 h-28\">\n                    {(groupPortfolioData?.holdings ?? []).map(\n                      (holding, index) => {\n                        const holdings = groupPortfolioData?.holdings ?? [];\n                        const total = holdings.reduce(\n                          (sum, h) => sum + h.currentValue,\n                          0\n                        );\n                        let startAngle = 0;\n                        for (let i = 0; i < index; i++) {\n                          startAngle +=\n                            (holdings[i].currentValue / total) * 360;\n                        }\n                        const angle = (holding.currentValue / total) * 360;\n                        const endAngle = startAngle + angle;\n                        const startRad = ((startAngle - 90) * Math.PI) / 180;\n                        const endRad = ((endAngle - 90) * Math.PI) / 180;\n                        const x1 = 100 + 80 * Math.cos(startRad);\n                        const y1 = 100 + 80 * Math.sin(startRad);\n                        const x2 = 100 + 80 * Math.cos(endRad);\n                        const y2 = 100 + 80 * Math.sin(endRad);\n                        const largeArc = angle > 180 ? 1 : 0;\n                        const colors = [\n                          \"#14B8A6\",\n                          \"#06B6D4\",\n                          \"#8B5CF6\",\n                          \"#EC4899\",\n                          \"#F59E0B\",\n                          \"#10B981\",\n                        ];\n                        return (\n                          <path\n                            key={holding.id}\n                            d={`M 100 100 L ${x1} ${y1} A 80 80 0 ${largeArc} 1 ${x2} ${y2} Z`}\n                            fill={colors[index % colors.length]}\n                            opacity=\"0.9\"\n                          />\n                        );\n                      }\n                    )}\n                    <circle cx=\"100\" cy=\"100\" r=\"50\" fill=\"white\" />\n                  </svg>\n                </div>\n                <div className=\"grid grid-cols-2 gap-2\">\n                  {(groupPortfolioData?.holdings ?? []).map(\n                    (holding, index) => {\n                      const colors = [\n                        \"bg-teal-500\",\n                        \"bg-cyan-500\",\n                        \"bg-purple-500\",\n                        \"bg-pink-500\",\n                        \"bg-amber-500\",\n                        \"bg-green-500\",\n                      ];\n                      const total = (groupPortfolioData?.holdings ?? []).reduce(\n                        (sum, h) => sum + h.currentValue,\n                        0\n                      );\n                      const percentage =\n                        total > 0\n                          ? ((holding.currentValue / total) * 100).toFixed(1)\n                          : \"0\";\n                      return (\n                        <div\n                          key={holding.id}\n                          className=\"flex items-center gap-1.5\"\n                        >\n                          <div\n                            className={`w-2.5 h-2.5 rounded-full ${\n                              colors[index % colors.length]\n                            }`}\n                          ></div>\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"text-xs font-medium text-gray-900 truncate\">\n                              {holding.stockName}\n                            </p>\n                            <p className=\"text-xs text-gray-500\">\n                              {percentage}%\n                            </p>\n                          </div>\n                        </div>\n                      );\n                    }\n                  )}\n                </div>\n              </div>\n\n              {/* ë³´ìœ  ì¢…ëª© ë¦¬ìŠ¤íŠ¸ */}\n              <div className=\"space-y-2\">\n                <h3 className=\"text-sm font-bold text-gray-900\">ë³´ìœ  ì¢…ëª©</h3>\n                {(groupPortfolioData?.holdings ?? []).map((holding) => {\n                  const profitLoss =\n                    holding.currentValue -\n                    holding.averagePrice * holding.quantity;\n                  const profitLossPercentage =\n                    (profitLoss / (holding.averagePrice * holding.quantity)) *\n                    100;\n                  const isProfit = profitLoss >= 0;\n                  const isSelected = selectedStock === holding.id;\n                  return (\n                    <div\n                      key={holding.id}\n                      onClick={() =>\n                        setSelectedStock(isSelected ? null : holding.id)\n                      }\n                      className={`rounded-xl p-3 border transition-all cursor-pointer ${\n                        isSelected\n                          ? \"border-teal-500 ring-2 ring-teal-200 bg-teal-50\"\n                          : \"border-gray-200 bg-white hover:border-gray-300\"\n                      }`}\n                    >\n                      <div className=\"flex items-start justify-between mb-2\">\n                        <div className=\"min-w-0\">\n                          <h4 className=\"text-sm font-bold text-gray-900 truncate\">\n                            {holding.stockName}\n                          </h4>\n                          <span className=\"text-xs text-gray-500\">\n                            {holding.quantity}ì£¼ Â·{\" \"}\n                            {formatCurrency(holding.currentPrice)}\n                          </span>\n                        </div>\n                        <p\n                          className={`text-xs font-semibold flex-shrink-0 ml-2 ${\n                            isProfit ? \"text-green-600\" : \"text-red-600\"\n                          }`}\n                        >\n                          {formatPercentage(profitLossPercentage)}\n                        </p>\n                      </div>\n                      {isSelected && (\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            const newVote: VoteItem = {\n                              id: votes.length + 1,\n                              type: \"ë§¤ë„\",\n                              stockName: holding.stockName,\n                              proposerId: currentUserId,\n                              proposerName: currentUserName,\n                              quantity: holding.quantity,\n                              proposedPrice: holding.currentPrice,\n                              reason: `${holding.stockName} ì „ëŸ‰ ì‹œì¥ê°€ ë§¤ë„ ì œì•ˆì…ë‹ˆë‹¤. í˜„ì¬ ë³´ìœ  ìˆ˜ëŸ‰ ${holding.quantity}ì£¼ë¥¼ ëª¨ë‘ ì²˜ë¶„í•˜ê³ ì í•©ë‹ˆë‹¤.`,\n                              createdAt: new Date()\n                                .toISOString()\n                                .slice(0, 16)\n                                .replace(\"T\", \" \"),\n                              expiresAt: \"24ì‹œê°„ í›„ ë§Œë£Œ\",\n                              votes: [],\n                              totalMembers: 5,\n                              status: \"ongoing\",\n                            };\n                            setVotes([newVote, ...votes]);\n                            setSelectedStock(null);\n                            setRightPanelTab(\"vote\");\n                          }}\n                          className=\"w-full py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-xs font-bold rounded-lg hover:from-blue-600 hover:to-blue-700 cursor-pointer\"\n                        >\n                          <i className=\"ri-arrow-down-line mr-1\"></i>\n                          ì²˜ë¶„ íˆ¬í‘œ ìƒì„±\n                        </button>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n\n          {/* ì˜¤ë¥¸ìª½: ì±„íŒ… ìœ„ í—¤ë”(ë³„ë„ í–‰) + ì±„íŒ… ë¸”ë¡ ì¹´ë“œ â€” ê²¹ì¹¨ ë°©ì§€ */}\n          <div className=\"flex flex-col min-h-0 order-1 lg:order-2\">\n            {/* ì±„íŒ… ìœ„ í—¤ë”: ê³ ì • ë†’ì´, ë³¸ë¬¸ê³¼ ê²¹ì¹˜ì§€ ì•ŠìŒ */}\n            <header className=\"flex-none h-14 shrink-0 px-4 flex items-center justify-between gap-3 bg-teal-50 border border-gray-200 border-b-0 rounded-t-2xl rounded-b-none shadow-sm\">\n              <span className=\"text-sm font-bold text-gray-800\">\n                ì±„íŒ… Â· íˆ¬í‘œ\n              </span>\n              <div className=\"flex bg-white rounded-full p-1 shadow border border-gray-300 flex-1 min-w-0 max-w-[14rem]\">\n                <button\n                  type=\"button\"\n                  onClick={() => setRightPanelTab(\"chat\")}\n                  className={`flex-1 py-2 px-3 rounded-full text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${\n                    rightPanelTab === \"chat\"\n                      ? \"bg-teal-500 text-white shadow-sm\"\n                      : \"text-gray-500 hover:text-gray-700 hover:bg-gray-100\"\n                  }`}\n                >\n                  <i className=\"ri-chat-3-line mr-1\" aria-hidden />\n                  ì±„íŒ…\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setRightPanelTab(\"vote\")}\n                  className={`flex-1 py-2 px-3 rounded-full text-sm font-medium transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center gap-1 ${\n                    rightPanelTab === \"vote\"\n                      ? \"bg-teal-500 text-white shadow-sm\"\n                      : \"text-gray-500 hover:text-gray-700 hover:bg-gray-100\"\n                  }`}\n                >\n                  <i className=\"ri-checkbox-circle-line\" aria-hidden />\n                  íˆ¬í‘œ\n                  {votes.filter((v) => v.status === \"ongoing\").length > 0 && (\n                    <span\n                      className={`ml-1 px-1.5 py-0.5 text-xs rounded-full ${\n                        rightPanelTab === \"vote\"\n                          ? \"bg-white/20 text-white\"\n                          : \"bg-red-500 text-white\"\n                      }`}\n                    >\n                      {votes.filter((v) => v.status === \"ongoing\").length}\n                    </span>\n                  )}\n                </button>\n              </div>\n              <button\n                type=\"button\"\n                onClick={() => setShowGroupInfoModal(true)}\n                className=\"text-sm text-teal-600 hover:text-teal-700 font-semibold whitespace-nowrap py-1 px-2\"\n              >\n                ì±„íŒ…ë°© ì •ë³´\n              </button>\n            </header>\n\n            {/* ì±„íŒ… ë¸”ë¡ ì¹´ë“œ: í—¤ë” ì•„ë˜ë§Œ ì°¨ì§€, ê²¹ì¹˜ì§€ ì•ŠìŒ */}\n            <div className=\"flex flex-col flex-1 min-h-0 w-full overflow-hidden bg-white rounded-b-2xl rounded-t-none border border-t-0 border-gray-200 shadow-sm\">\n              {rightPanelTab === \"chat\" && (\n                <>\n                  <div className=\"flex-1 min-h-0 overflow-y-auto overflow-x-hidden px-4 py-3 space-y-4\">\n                    {messages.map((msg) => (\n                      <div key={msg.id}>\n                        {msg.type === \"user\" && (\n                          <div className=\"flex gap-3\">\n                            <span className=\"w-10 h-10 rounded-full bg-teal-500 text-white flex items-center justify-center text-sm font-semibold shrink-0\" aria-hidden>\n                              {msg.userNickname.charAt(0)}\n                            </span>\n                            <div className=\"flex-1\">\n                              <div className=\"flex items-center gap-2 mb-1\">\n                                <span className=\"text-sm font-semibold text-gray-900\">\n                                  {msg.userNickname}\n                                </span>\n                                <span className=\"text-xs text-gray-400\">\n                                  {msg.timestamp}\n                                </span>\n                              </div>\n                              <div className=\"bg-white rounded-2xl rounded-tl-sm px-4 py-3 shadow-sm border border-gray-100 inline-block max-w-xl\">\n                                <p className=\"text-sm text-gray-800 whitespace-pre-wrap\">\n                                  {msg.message}\n                                </p>\n                              </div>\n                            </div>\n                          </div>\n                        )}\n\n                        {msg.type === \"trade\" && msg.tradeData && (\n                          <div className=\"flex gap-3\">\n                            <span className=\"w-10 h-10 rounded-full bg-teal-500 text-white flex items-center justify-center text-sm font-semibold shrink-0\" aria-hidden>\n                              {msg.userNickname.charAt(0)}\n                            </span>\n                            <div className=\"flex-1\">\n                              <div className=\"flex items-center gap-2 mb-1\">\n                                <span className=\"text-sm font-semibold text-gray-900\">\n                                  {msg.userNickname}\n                                </span>\n                                <span className=\"text-xs text-gray-400\">\n                                  {msg.timestamp}\n                                </span>\n                              </div>\n                              <div\n                                onClick={() =>\n                                  handleTradeCardClick(\n                                    msg.tradeData,\n                                    msg.userNickname || \"\"\n                                  )\n                                }\n                                className=\"bg-gradient-to-br from-teal-50 to-teal-100 rounded-2xl rounded-tl-sm p-4 shadow-sm border border-teal-200 max-w-xl cursor-pointer hover:shadow-md transition-shadow\"\n                              >\n                                <div className=\"flex items-center gap-2 mb-3\">\n                                  <div\n                                    className={`px-3 py-1 rounded-full text-xs font-bold ${\n                                      msg.tradeData.action === \"ë§¤ìˆ˜\"\n                                        ? \"bg-red-500 text-white\"\n                                        : \"bg-blue-500 text-white\"\n                                    }`}\n                                  >\n                                    {msg.tradeData.action} ê³„íš\n                                  </div>\n                                </div>\n                                <div className=\"space-y-2 mb-3\">\n                                  <div className=\"flex justify-between\">\n                                    <span className=\"text-sm text-gray-600\">\n                                      ì¢…ëª©\n                                    </span>\n                                    <span className=\"text-sm font-semibold text-gray-900\">\n                                      {msg.tradeData.stockName}\n                                    </span>\n                                  </div>\n                                  <div className=\"flex justify-between\">\n                                    <span className=\"text-sm text-gray-600\">\n                                      ìˆ˜ëŸ‰\n                                    </span>\n                                    <span className=\"text-sm font-semibold text-gray-900\">\n                                      {msg.tradeData.quantity}ì£¼\n                                    </span>\n                                  </div>\n                                  <div className=\"flex justify-between\">\n                                    <span className=\"text-sm text-gray-600\">\n                                      í¬ë§ ê°€ê²©\n                                    </span>\n                                    <span className=\"text-sm font-semibold text-gray-900\">\n                                      {formatCurrency(\n                                        msg.tradeData.pricePerShare\n                                      )}\n                                    </span>\n                                  </div>\n                                  <div className=\"flex justify-between\">\n                                    <span className=\"text-sm text-gray-600\">\n                                      ì£¼ë¬¸ ê¸ˆì•¡\n                                    </span>\n                                    <span className=\"text-sm font-bold text-teal-600\">\n                                      {formatCurrency(\n                                        msg.tradeData.totalAmount\n                                      )}\n                                    </span>\n                                  </div>\n                                </div>\n                                <div className=\"border-t border-teal-200 pt-3 mb-3\">\n                                  <p className=\"text-sm text-gray-700\">\n                                    {msg.tradeData.reason}\n                                  </p>\n                                </div>\n                                <div className=\"flex flex-wrap gap-2\">\n                                  {msg.tradeData.tags.map((tag, idx) => (\n                                    <span\n                                      key={idx}\n                                      className=\"px-2 py-1 bg-white text-teal-600 text-xs font-medium rounded-full\"\n                                    >\n                                      {tag}\n                                    </span>\n                                  ))}\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                    <div ref={messagesEndRef} />\n                  </div>\n                  {/* ì±„íŒ… ì…ë ¥ */}\n                  <div className=\"flex-shrink-0 border-t border-gray-200 p-4\">\n                    {isTournamentEnded ? (\n                      <button\n                        onClick={() => navigate(\"/feedback-report\")}\n                        className=\"w-full py-3 bg-gradient-to-r from-teal-500 to-teal-600 text-white text-sm font-bold rounded-xl hover:from-teal-600 hover:to-teal-700 cursor-pointer flex items-center justify-center gap-2\"\n                      >\n                        <i className=\"ri-file-chart-line\"></i>\n                        í”¼ë“œë°± ë¦¬í¬íŠ¸ ë³´ê¸°\n                      </button>\n                    ) : (\n                      <>\n                        <button\n                          onClick={handleTradeShare}\n                          className=\"w-full py-2.5 mb-2 bg-gradient-to-r from-red-500 to-pink-500 text-white text-sm font-bold rounded-xl hover:from-red-600 hover:to-pink-600 cursor-pointer flex items-center justify-center gap-2\"\n                        >\n                          <i className=\"ri-stock-line\"></i>\n                          ë§¤ìˆ˜/ë§¤ë„ ê³„íš ê³µìœ \n                        </button>\n                        <div className=\"flex items-center gap-2\">\n                          <input\n                            type=\"text\"\n                            value={newMessage}\n                            onChange={(e) => setNewMessage(e.target.value)}\n                            onKeyPress={(e) =>\n                              e.key === \"Enter\" && handleSendMessage()\n                            }\n                            placeholder=\"ë©”ì‹œì§€ ì…ë ¥...\"\n                            className=\"flex-1 px-3 py-2.5 bg-gray-100 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-teal-500\"\n                          />\n                          <button\n                            onClick={handleSendMessage}\n                            className=\"w-10 h-10 bg-teal-500 rounded-xl flex items-center justify-center hover:bg-teal-600 cursor-pointer transition-colors flex-shrink-0\"\n                          >\n                            <i className=\"ri-send-plane-fill text-white text-lg\"></i>\n                          </button>\n                        </div>\n                      </>\n                    )}\n                  </div>\n                </>\n              )}\n\n              {rightPanelTab === \"vote\" && (\n                <div className=\"flex-1 min-h-0 overflow-y-auto overflow-x-hidden p-4 space-y-3\">\n                  {votes.length === 0 ? (\n                    <div className=\"text-center py-12\">\n                      <i className=\"ri-checkbox-circle-line text-4xl text-gray-300 mb-2\"></i>\n                      <p className=\"text-sm text-gray-500\">\n                        ì§„í–‰ ì¤‘ì¸ íˆ¬í‘œê°€ ì—†ìŠµë‹ˆë‹¤\n                      </p>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-3\">\n                      {votes.map((vote) => (\n                        <div\n                          key={vote.id}\n                          className={`rounded-xl p-4 border ${\n                            vote.status === \"passed\"\n                              ? \"border-green-300 bg-green-50\"\n                              : vote.status === \"rejected\"\n                              ? \"border-red-300 bg-red-50\"\n                              : \"border-gray-200 bg-gray-50\"\n                          }`}\n                        >\n                          <div className=\"flex items-start justify-between gap-2 mb-2\">\n                            <div className=\"flex items-center gap-2 min-w-0\">\n                              <span className=\"w-8 h-8 rounded-full bg-teal-500 text-white flex items-center justify-center text-sm font-semibold shrink-0\" aria-hidden>\n                                {vote.proposerName.charAt(0)}\n                              </span>\n                              <div className=\"min-w-0\">\n                                <span className=\"text-xs font-semibold text-gray-900 block truncate\">\n                                  {vote.proposerName}\n                                </span>\n                                <span className=\"text-xs text-gray-500\">\n                                  {vote.expiresAt}\n                                </span>\n                              </div>\n                            </div>\n                            <span\n                              className={`px-2 py-0.5 rounded-full text-xs font-bold flex-shrink-0 ${\n                                vote.type === \"ë§¤ìˆ˜\"\n                                  ? \"bg-red-100 text-red-600\"\n                                  : \"bg-blue-100 text-blue-600\"\n                              }`}\n                            >\n                              {vote.type}\n                            </span>\n                          </div>\n                          <div className=\"bg-white/80 rounded-lg p-3 mb-2\">\n                            <h3 className=\"text-sm font-bold text-gray-900 truncate\">\n                              {vote.stockName}\n                            </h3>\n                            <div className=\"flex justify-between text-xs text-gray-600 mt-1\">\n                              <span>{vote.quantity}ì£¼</span>\n                              <span>{formatCurrency(vote.proposedPrice)}</span>\n                            </div>\n                            <p className=\"text-xs text-gray-600 mt-1 line-clamp-2\">\n                              {vote.reason}\n                            </p>\n                          </div>\n                          <div className=\"flex items-center gap-2 mb-2 text-xs flex-wrap\">\n                            <span className=\"text-green-600 font-medium\">\n                              ì°¬ì„± {getVoteCount(vote, \"ì°¬ì„±\")}\n                            </span>\n                            <span className=\"text-red-600 font-medium\">\n                              ë°˜ëŒ€ {getVoteCount(vote, \"ë°˜ëŒ€\")}\n                            </span>\n                            <span className=\"text-gray-500 font-medium\">\n                              ë³´ë¥˜ {getVoteCount(vote, \"ë³´ë¥˜\")}\n                            </span>\n                            <span className=\"text-gray-400\">\n                              {vote.votes.length}/{vote.totalMembers}\n                            </span>\n                          </div>\n                          {vote.status === \"ongoing\" ? (\n                            <div className=\"flex gap-2\">\n                              <button\n                                onClick={() => handleVote(vote.id, \"ì°¬ì„±\")}\n                                className={`flex-1 py-2 rounded-lg text-xs font-bold cursor-pointer ${\n                                  getUserVote(vote) === \"ì°¬ì„±\"\n                                    ? \"bg-green-500 text-white\"\n                                    : \"bg-green-100 text-green-600 hover:bg-green-200\"\n                                }`}\n                              >\n                                ì°¬ì„±\n                              </button>\n                              <button\n                                onClick={() => handleVote(vote.id, \"ë³´ë¥˜\")}\n                                className={`flex-1 py-2 rounded-lg text-xs font-bold cursor-pointer ${\n                                  getUserVote(vote) === \"ë³´ë¥˜\"\n                                    ? \"bg-gray-500 text-white\"\n                                    : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"\n                                }`}\n                              >\n                                ë³´ë¥˜\n                              </button>\n                              <button\n                                onClick={() => handleVote(vote.id, \"ë°˜ëŒ€\")}\n                                className={`flex-1 py-2 rounded-lg text-xs font-bold cursor-pointer ${\n                                  getUserVote(vote) === \"ë°˜ëŒ€\"\n                                    ? \"bg-red-500 text-white\"\n                                    : \"bg-red-100 text-red-600 hover:bg-red-200\"\n                                }`}\n                              >\n                                ë°˜ëŒ€\n                              </button>\n                            </div>\n                          ) : (\n                            <div\n                              className={`py-2 rounded-lg text-xs font-bold text-center ${\n                                vote.status === \"passed\"\n                                  ? \"bg-green-500 text-white\"\n                                  : vote.status === \"rejected\"\n                                  ? \"bg-red-500 text-white\"\n                                  : \"bg-gray-300 text-gray-600\"\n                              }`}\n                            >\n                              {vote.status === \"passed\"\n                                ? \"âœ“ í†µê³¼\"\n                                : vote.status === \"rejected\"\n                                ? \"âœ— ë¶€ê²°\"\n                                : \"ë§Œë£Œ\"}\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </main>\n\n      {/* ë§¤ìˆ˜/ë§¤ë„ ê³„íš ê³µìœ  ëª¨ë‹¬ */}\n      {showTradeModal && (\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-5\">\n          <div className=\"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-4\">\n              ë§¤ìˆ˜/ë§¤ë„ ê³„íš ê³µìœ \n            </h3>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              ëª¨ì˜íˆ¬ì í˜ì´ì§€ì—ì„œ ë§¤ìˆ˜/ë§¤ë„ ê³„íšì„ ì‘ì„±í•˜ê³  ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n            </p>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => setShowTradeModal(false)}\n                className=\"flex-1 py-3 bg-gray-200 text-gray-700 text-sm font-medium rounded-xl hover:bg-gray-300 cursor-pointer whitespace-nowrap transition-colors\"\n              >\n                ë‹«ê¸°\n              </button>\n              <button\n                onClick={() => {\n                  setShowTradeModal(false);\n                  navigate(\"/mock-investment\");\n                }}\n                className=\"flex-1 py-3 bg-teal-500 text-white text-sm font-bold rounded-xl hover:bg-teal-600 cursor-pointer whitespace-nowrap transition-colors\"\n              >\n                ëª¨ì˜íˆ¬ìë¡œ ì´ë™\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* íˆ¬í‘œ í†µê³¼ ëª¨ë‹¬ */}\n      {showVoteSuccessModal && passedVote && (\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-5\">\n          <div className=\"bg-white rounded-2xl max-w-md w-full p-6 text-center\">\n            <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <i className=\"ri-checkbox-circle-fill text-4xl text-green-500\"></i>\n            </div>\n            <h3 className=\"text-lg font-bold text-gray-900 mb-2\">íˆ¬í‘œ í†µê³¼!</h3>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              ê³¼ë°˜ìˆ˜ ì°¬ì„±ìœ¼ë¡œ{\" \"}\n              <span className=\"font-bold\">{passedVote.stockName}</span>{\" \"}\n              {passedVote.type} ì£¼ë¬¸ì´ ì²´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.\n            </p>\n            <div className=\"bg-gray-50 rounded-xl p-4 mb-4\">\n              <div className=\"flex justify-between mb-2\">\n                <span className=\"text-sm text-gray-500\">ì¢…ëª©</span>\n                <span className=\"text-sm font-semibold\">\n                  {passedVote.stockName}\n                </span>\n              </div>\n              <div className=\"flex justify-between mb-2\">\n                <span className=\"text-sm text-gray-500\">ìœ í˜•</span>\n                <span\n                  className={`text-sm font-semibold ${\n                    passedVote.type === \"ë§¤ìˆ˜\"\n                      ? \"text-red-600\"\n                      : \"text-blue-600\"\n                  }`}\n                >\n                  {passedVote.type}\n                </span>\n              </div>\n              <div className=\"flex justify-between mb-2\">\n                <span className=\"text-sm text-gray-500\">ìˆ˜ëŸ‰</span>\n                <span className=\"text-sm font-semibold\">\n                  {passedVote.quantity}ì£¼\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-gray-500\">ì²´ê²°ê°€</span>\n                <span className=\"text-sm font-semibold\">\n                  {formatCurrency(passedVote.proposedPrice)}\n                </span>\n              </div>\n            </div>\n            <button\n              onClick={() => {\n                setShowVoteSuccessModal(false);\n                setPassedVote(null);\n              }}\n              className=\"w-full py-3 bg-teal-500 text-white text-sm font-bold rounded-xl hover:bg-teal-600 cursor-pointer whitespace-nowrap transition-colors\"\n            >\n              í™•ì¸\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* ê·¸ë£¹ ì •ë³´ ëª¨ë‹¬ */}\n      {showGroupInfoModal && (\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-5\">\n          <div className=\"bg-white rounded-2xl max-w-lg w-full p-6 shadow-xl\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-lg font-bold text-gray-900\">ì±„íŒ…ë°© ì •ë³´</h3>\n              <button\n                onClick={() => setShowGroupInfoModal(false)}\n                className=\"w-8 h-8 flex items-center justify-center cursor-pointer\"\n              >\n                <i className=\"ri-close-line text-xl text-gray-700\"></i>\n              </button>\n            </div>\n\n            {/* ê·¸ë£¹ ì •ë³´ */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center gap-3 pb-4 border-b border-gray-200\">\n                <span className=\"w-16 h-16 rounded-full bg-teal-500 text-white flex items-center justify-center text-xl font-bold shrink-0\" aria-hidden>\n                  {(groupPortfolioData?.groupName ?? \"\").charAt(0)}\n                </span>\n                <div>\n                  <h4 className=\"text-base font-bold text-gray-900\">\n                    {groupPortfolioData?.groupName ?? \"-\"}\n                  </h4>\n                  <span className=\"text-sm text-gray-500\">ë©¤ë²„ 5ëª…</span>\n                </div>\n              </div>\n\n              {/* íˆ¬ì ì •ë³´ */}\n              <div className=\"bg-gradient-to-br from-teal-50 to-teal-100 rounded-xl p-4 space-y-3\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <i className=\"ri-wallet-3-line text-teal-600 text-lg\"></i>\n                  <span className=\"text-sm font-semibold text-gray-700\">\n                    íŒ€ íˆ¬ì í˜„í™©\n                  </span>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">\n                      íŒ€ íˆ¬ìê¸ˆ(ì‹¤ì‹œê°„)\n                    </span>\n                    <span className=\"text-base font-bold text-gray-900\">\n                      {formatCurrency(\n                        groupPortfolioData?.investmentAmount ?? 0\n                      )}\n                    </span>\n                  </div>\n\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600\">ì „ì²´ ìì‚°</span>\n                    <span className=\"text-base font-bold text-gray-900\">\n                      {formatCurrency(groupPortfolioData?.totalValue ?? 0)}\n                    </span>\n                  </div>\n\n                  <div className=\"flex justify-between items-center pt-2 border-t border-teal-200\">\n                    <span className=\"text-sm text-gray-600\">íˆ¬ì ì†ìµ</span>\n                    <div className=\"text-right\">\n                      <span\n                        className={`text-base font-bold ${\n                          isProfit ? \"text-green-600\" : \"text-red-600\"\n                        }`}\n                      >\n                        {isProfit ? \"+\" : \"\"}\n                        {formatCurrency(groupPortfolioData?.profitLoss ?? 0)}\n                      </span>\n                      <span\n                        className={`text-xs ml-2 ${\n                          isProfit ? \"text-green-600\" : \"text-red-600\"\n                        }`}\n                      >\n                        {formatPercentage(\n                          groupPortfolioData?.profitLossPercentage ?? 0\n                        )}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <button\n                onClick={() => {\n                  setShowGroupInfoModal(false);\n                  navigate(\"/group-portfolio\");\n                }}\n                className=\"w-full py-3 bg-teal-500 text-white text-sm font-bold rounded-xl hover:bg-teal-600 cursor-pointer whitespace-nowrap transition-colors\"\n              >\n                ê·¸ë£¹ í¬íŠ¸í´ë¦¬ì˜¤ ë³´ê¸°\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["chatMessages","getChatMessages","groupId","voteData","getVotes","ChatPage","navigate","useNavigate","messages","setMessages","useState","newMessage","setNewMessage","showTradeModal","setShowTradeModal","showGroupInfoModal","setShowGroupInfoModal","rightPanelTab","setRightPanelTab","votes","setVotes","groupPortfolioData","setGroupPortfolioData","useEffect","getGroupPortfolio","showVoteSuccessModal","setShowVoteSuccessModal","passedVote","setPassedVote","selectedStock","setSelectedStock","messagesEndRef","useRef","currentUserId","currentUserName","scrollToBottom","handleSendMessage","newMsg","handleTradeShare","handleVote","voteId","voteType","prevVotes","vote","existingVoteIndex","v","newVotes","agreeCount","disagreeCount","majority","allVoted","newStatus","getVoteCount","type","getUserVote","formatCurrency","value","formatPercentage","isProfit","handleTradeCardClick","tradeData","userNickname","newVote","jsxs","jsx","Header","holding","index","holdings","total","sum","h","startAngle","i","angle","endAngle","startRad","endRad","x1","y1","x2","y2","largeArc","colors","percentage","profitLoss","profitLossPercentage","isSelected","e","Fragment","msg","tag","idx"],"mappings":"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"}