{"version":3,"file":"matchingRoomService-Dsf0VnUZ.js","sources":["../../src/services/matchingRoomService.ts"],"sourcesContent":["/**\n * 매칭방 API. GET/POST /api/matching-rooms, join/leave/start\n * @see docs/API_SPEC.md §9\n */\n\nimport type { MatchingRoom } from \"../types\";\nimport { apiGet, apiPost, type ApiError } from \"./apiClient\";\n\n/** 참가 시 필요한 사용자 정보 */\nexport interface JoinMatchingRoomUser {\n  id: string;\n  nickname: string;\n}\n\n/** 참가 API 응답. 백엔드가 갱신된 방(멤버 목록 포함)을 주면 목록 갱신에 사용 */\nexport interface JoinMatchingRoomResponse {\n  success: boolean;\n  message: string;\n  room?: MatchingRoom;\n}\n\n/**\n * 전체 매칭방 목록. 인증 시 각 방에 isJoined 포함.\n */\nexport async function getMatchingRooms(): Promise<MatchingRoom[]> {\n  return await apiGet<MatchingRoom[]>(\"/api/matching-rooms\");\n}\n\n/** 내가 참가 중인 매칭방 목록. GET /api/me/matching-rooms (인증 필요) */\nexport async function getMyMatchingRooms(): Promise<MatchingRoom[]> {\n  return await apiGet<MatchingRoom[]>(\"/api/me/matching-rooms\");\n}\n\nexport async function joinMatchingRoom(\n  roomId: string,\n  user: JoinMatchingRoomUser\n): Promise<JoinMatchingRoomResponse> {\n  return await apiPost<JoinMatchingRoomResponse>(\n    `/api/matching-rooms/${roomId}/join`\n  );\n}\n\nexport async function leaveMatchingRoom(\n  roomId: string\n): Promise<{ success: boolean; message: string }> {\n  return await apiPost<{ success: boolean; message: string }>(\n    `/api/matching-rooms/${roomId}/leave`\n  );\n}\n\nexport async function createMatchingRoom(\n  name?: string\n): Promise<{ success: boolean; message: string; room?: MatchingRoom }> {\n  try {\n    return await apiPost<{\n      success: boolean;\n      message: string;\n      room?: MatchingRoom;\n    }>(\"/api/matching-rooms\", name != null ? { name } : undefined);\n  } catch (e) {\n    const err = e as ApiError;\n    if (err.status != null && err.message) {\n      return { success: false, message: err.message };\n    }\n    throw e;\n  }\n}\n\nexport async function startMatchingRoom(roomId: string): Promise<{\n  success: boolean;\n  message: string;\n  teamId?: string;\n  groupId?: number;\n  competitionId?: number;\n}> {\n  return await apiPost<{\n    success: boolean;\n    message: string;\n    teamId?: string;\n    groupId?: number;\n    competitionId?: number;\n  }>(`/api/matching-rooms/${roomId}/start`);\n}\n"],"names":["getMatchingRooms","apiGet","getMyMatchingRooms","joinMatchingRoom","roomId","user","apiPost","leaveMatchingRoom","createMatchingRoom","name","e","err","startMatchingRoom"],"mappings":"+CAwBA,eAAsBA,GAA4C,CAChE,OAAO,MAAMC,EAAuB,qBAAqB,CAC3D,CAGA,eAAsBC,GAA8C,CAClE,OAAO,MAAMD,EAAuB,wBAAwB,CAC9D,CAEA,eAAsBE,EACpBC,EACAC,EACmC,CACnC,OAAO,MAAMC,EACX,uBAAuBF,CAAM,OAAA,CAEjC,CAEA,eAAsBG,EACpBH,EACgD,CAChD,OAAO,MAAME,EACX,uBAAuBF,CAAM,QAAA,CAEjC,CAEA,eAAsBI,EACpBC,EACqE,CACrE,GAAI,CACF,OAAO,MAAMH,EAIV,sBAAuBG,GAAQ,KAAO,CAAE,KAAAA,CAAA,EAAS,MAAS,CAC/D,OAASC,EAAG,CACV,MAAMC,EAAMD,EACZ,GAAIC,EAAI,QAAU,MAAQA,EAAI,QAC5B,MAAO,CAAE,QAAS,GAAO,QAASA,EAAI,OAAA,EAExC,MAAMD,CACR,CACF,CAEA,eAAsBE,EAAkBR,EAMrC,CACD,OAAO,MAAME,EAMV,uBAAuBF,CAAM,QAAQ,CAC1C"}